[pipeline]

# define order of stages to be excecuted one after another, and specify the
# service to use for each of them as stage1:serviceA, stage2:serviceB, ...
order = aeff:hist

#------------------------------------------------------------------------------
# Binning definitions, linked back to from stage definitions
#------------------------------------------------------------------------------

[binning]

aeff_test_binning_true.order = true_energy, true_coszen
aeff_test_binning_true.true_energy = {'num_bins':19, 'is_log':True, 'domain':[1,80] * units.GeV}
aeff_test_binning_true.true_coszen = {'num_bins':10, 'is_lin':True, 'domain':[-1,0], 'tex':r'$\cos\theta_Z$'}

#------------------------------------------------------------------------------
# Effective area
#------------------------------------------------------------------------------

[stage:aeff]

# instantiation arguments

input_binning = aeff_test_binning_true
output_binning = aeff_test_binning_true

particles = neutrinos
input_names = nue, nuebar, numu, numubar, nutau, nutaubar
transform_groups = None
sum_grouped_flavints = False

error_method = None
debug_mode = False
transforms_cache_depth = 0
outputs_cache_depth = 0
memcache_deepcopy = False

# params

param.aeff_weight_file = events/deepcore_ic86/MSU/1XXXX/UnJoined/DC_MSU_1X585_unjoined_events_mc.hdf5

param.livetime = 3. units.julian_year

param.aeff_scale = 1.
param.aeff_scale.fixed = False
param.aeff_scale.range = nominal + [-0.3, +0.3]
param.aeff_scale.prior = uniform

param.nutau_cc_norm = 1.
param.nutau_cc_norm.fixed = False
param.nutau_cc_norm.prior = uniform
param.nutau_cc_norm.range = [-1.0, 3.0] * units.dimensionless